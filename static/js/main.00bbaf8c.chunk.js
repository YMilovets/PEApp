(this.webpackJsonplesson_01=this.webpackJsonplesson_01||[]).push([[0],{17:function(t,e,s){},26:function(t,e,s){"use strict";s.r(e);var a=s(1),n=s.n(a),i=s(18),r=s.n(i),c=(s(17),s(4)),o=s(5),l=s(12),u=s(7),h=s(6),d=(s(23),s(25),s(9)),m=s(2),j=s(11),p=s(3),b=s(0),v=function(t){var e=function(e){var s=Object(p.h)(),a=Object(d.d)(),n=Object(j.a)(a,2),i=n[0],r=n[1];return Object(b.jsx)(t,Object(m.a)(Object(m.a)({},e),{},{params:s,searchParams:i,setSearchParams:r}))};return e.displayName="WrappedComponent(".concat(t.displayName||t.name||"Component",")"),e},f=v(function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t)).ms=1e3,n.threads=[],n.state={timeID:null,step:0,countDown:0,items:[],isPaused:!1,savedStep:0,savedCountDown:0,savedTimeID:null},n.pauseBtn=Object(a.createRef)(),n.startBtn=Object(a.createRef)(),n.startTimerHandler=n.startTimerHandler.bind(Object(l.a)(n)),n.pauseTimerHandler=n.pauseTimerHandler.bind(Object(l.a)(n)),n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=this;document.body.onkeyup=function(e){"p"!==e.key&&"\u0437"!==e.key||t.pauseBtn.current&&t.pauseBtn.current.click(),"s"!==e.key&&"\u044b"!==e.key||t.startBtn.current&&t.startBtn.current.click()}}},{key:"oscillator",value:function(){var t,e=this;try{t=new(AudioContext||window.webkitAudioContext)}catch(i){console.log("\u0411\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c AudioContent")}for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];a.forEach((function(s){e.threads.push(t.createOscillator());var a=t.createGain();e.threads[e.threads.length-1].connect(a),a.connect(t.destination),a.gain.value=.1,e.threads[e.threads.length-1].frequency.value=s.toString(),e.threads[e.threads.length-1].start(0)})),setTimeout((function(){return e.stopThreads()}),100)}},{key:"stopThreads",value:function(){this.threads.map((function(t){return t.stop(0)})),this.threads=[]}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeID),this.stopThreads()}},{key:"pauseStep",value:function(){var t=this;this.oscillator(1633,941),this.setState({savedTimeID:null,timeID:setTimeout((function(){t.start()}),this.ms*(this.item.time_pause+this.state.step*this.item.delta_time))})}},{key:"start",value:function(){var t=this;this.oscillator(1209,852),this.displayCountDown(),this.setState({savedTimeID:null,timeID:setTimeout((function(){t.setState((function(t){return{step:t.step+1}})),t.pauseStep(),t.checkLastRepeat(t.state.step,t.item.count_repeat)}),this.ms*this.item.time_progress)})}},{key:"displayCountDown",value:function(){this.setState({countDown:this.item.time_progress}),this.changeCountTimer()}},{key:"checkLastRepeat",value:function(t,e){t>=e&&(clearTimeout(this.state.timeID),this.setState({step:0,timeID:null,savedStep:0,savedCountDown:0,savedTimeID:null}))}},{key:"changeCountTimer",value:function(){var t=this,e=setInterval((function(){t.setState((function(t){return{countDown:t.countDown-1}})),t.state.countDown<=0&&clearInterval(e)}),this.ms)}},{key:"startTimerHandler",value:function(){this.state.timeID||this.state.savedTimeID||this.start()}},{key:"pauseTimerHandler",value:function(){var t=this;(this.state.timeID||this.state.savedTimeID&&this.state.isPaused)&&(clearTimeout(this.state.timeID),this.setState((function(t){return{savedStep:t.step,savedCountDown:t.countDown,savedTimeID:t.savedTimeID||t.timeID,step:0,timeID:null,countDown:0,isPaused:!t.isPaused}})),this.state.isPaused&&(this.setState({step:this.state.savedStep,countDown:this.state.savedCountDown,savedStep:0,savedCountDown:0}),this.changeCountTimer(),this.state.savedCountDown>0?this.setState({timeID:setTimeout((function(){t.setState((function(t){return{step:t.step+1}})),t.pauseStep(),t.checkLastRepeat(t.state.step,t.item.count_repeat)}),this.ms*this.state.savedCountDown)}):setTimeout((function(){t.start()}),3*this.ms)))}},{key:"render",value:function(){var t=this;try{if("error"===this.state.items)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a json-\u0444\u0430\u0439\u043b\u0443")}catch(e){return Object(b.jsx)("p",{children:e.message})}return this.item=this.state.items.filter((function(e){return e.link===t.props.params.id}))[0],this.item?Object(b.jsxs)("div",{className:"d-flex ex-wrap mx-4 mb-4 mt-1",children:[Object(b.jsx)("img",{className:"ex-img-top img-thumbnail",src:this.item.img,alt:"\u0417\u0434\u0435\u0441\u044c \u0440\u044b\u0431\u044b \u043d\u0435\u0442"}),Object(b.jsxs)("div",{className:"ex-wrap-content",children:[Object(b.jsx)("h3",{children:this.item.title}),Object(b.jsx)("p",{children:this.item.action}),this.state.timeID||this.state.savedTimeID?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsxs)("div",{className:"",children:[Object(b.jsxs)("small",{children:["\u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f ",Object(b.jsx)("br",{}),"\u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u044f"]}),Object(b.jsx)("h1",{className:"display-3",children:this.state.countDown>0?this.state.countDown:"\u275a\u275a"})]}),Object(b.jsxs)("div",{className:"ms-3",children:[Object(b.jsxs)("small",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 ",Object(b.jsx)("br",{}),"\u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u0439"]}),Object(b.jsx)("h1",{className:"display-3",children:this.state.step||this.state.savedStep})]})]}),!this.state.timeID&&!this.state.isPaused&&Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)("small",{children:"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c \u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e \u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f"})})]}):"",Object(b.jsxs)("div",{className:"ex-manager-btn",children:[Object(b.jsx)("button",{className:"btn btn-primary",disabled:this.state.timeID||this.state.savedTimeID,onClick:this.startTimerHandler,ref:this.startBtn,children:"\u25b7 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c (S)"}),Object(b.jsxs)("button",{className:"btn btn-primary",disabled:!this.state.timeID&&(!this.state.savedTimeID||!this.state.isPaused),onClick:this.pauseTimerHandler,ref:this.pauseBtn,children:["\u275a\u275a ",this.state.isPaused?"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c":"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"," (P)"]})]})]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(b.jsx)(d.b,{to:"/",className:"btn btn-primary",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{items:t.resource.posts.read()}}}]),s}(a.Component)),O=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var t=this.props.item;return Object(b.jsx)("div",{className:"me-3 card-wrapper",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("img",{className:"card-img-top",src:t.img,alt:"\u0417\u0434\u0435\u0441\u044c \u0440\u044b\u0431\u044b \u043d\u0435\u0442"}),Object(b.jsxs)("div",{className:"card-body d-flex justify-content-between flex-column",children:[Object(b.jsxs)("div",{className:"card-content mb-3",children:[Object(b.jsx)("h5",{className:"card-title",children:t.title}),Object(b.jsx)("p",{className:"card-text",children:t.action})]}),Object(b.jsx)(d.b,{to:"exercise/"+t.link,className:"btn btn-primary",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})]})]})})}}]),s}(a.Component);function x(t){return Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault()},className:"d-flex mt-1 mx-4 position-relative",autoComplete:"off",children:[Object(b.jsx)("input",{placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f",onChange:function(e){e.preventDefault();var s=e.target.value;(0,t.setSearchParams)({query:s}),t.setDefaultPos()},className:"form-control",type:"text",name:"search"}),Object(b.jsx)("button",{onClick:function(){return t.setSearchParams({query:""})},type:"reset",className:"btn-close position-absolute top-50 end-0 translate-middle","aria-label":"Close"})]})}var y=v(function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=e.call(this,t)).state={pos:t.pos,items:[],search:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.searchParams;this.setState({search:t.get("query")?t.get("query").toLowerCase():""})}},{key:"componentDidUpdate",value:function(t){if(this.props!==t){var e=this.props.pos;this.setState({pos:e});var s=this.props.searchParams;this.setState({search:s.get("query")?s.get("query").toLowerCase():""})}}},{key:"render",value:function(){var t=this;try{if("error"===this.state.items)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a json-\u0444\u0430\u0439\u043b\u0443")}catch(s){return Object(b.jsx)("p",{children:s.message})}var e={transform:"translateX(".concat(this.state.pos,"px)")};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,Object(m.a)({},this.props)),Object(b.jsx)("div",{style:e,className:"list-exercises mx-4 mb-4",children:Object(b.jsxs)("div",{className:"g-4 mt-3 d-inline-flex overflow-hidden card-deck",children:[this.state.items.filter((function(e){return e.title.toLowerCase().includes(t.state.search)||!t.state.search})).map((function(t,e){return Object(b.jsx)(O,{item:t},e)})),this.state.items.filter((function(e){return e.title.toLowerCase().includes(t.state.search)})).length>0||Object(b.jsxs)("p",{children:["\u041d\u0438\u0447\u0435\u0433\u043e ",Object(b.jsx)("b",{children:"\u043d\u0435"})," \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441."]})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{items:t.resource.posts.read()}}}]),s}(a.Component));function g(t){var e,s="pending",a=t.then((function(t){e=t,s="success"})).catch((function(t){e="\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a json-\u0444\u0430\u0439\u043b\u0443",s="error"}));return{read:function(){switch(s){case"pending":throw a;case"error":return s;case"success":return e;default:throw a}}}}function k(){var t={title:"Lorem ipsum dolor sit amet",action:"Sed malesuada eget leo in tincidunt. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Sed pharetra sit amet ante at posuere. Integer ut arcu ac odio porttitor cursus.",link:"/",img:"/"};return Object(b.jsx)("div",{className:"list-exercises mx-4",children:Object(b.jsxs)("div",{className:"g-4 mt-2 d-inline-flex overflow-hidden card-deck",children:[Object(b.jsx)(O,{item:t}),Object(b.jsx)(O,{item:t}),Object(b.jsx)(O,{item:t})]})})}var D=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=e.call(this,t)).collapse=n.a.createRef(),a.state={clicked:!1,path:t.path},a.handleClick=a.handleClick.bind(Object(l.a)(a)),a}return Object(o.a)(s,[{key:"handleClick",value:function(){this.setState({clicked:!this.state.clicked})}},{key:"componentDidMount",value:function(){document.querySelector(":root").style.setProperty("--collapse-height",this.collapse.current.clientHeight+"px")}},{key:"aboutIsActive",value:function(t,e){return"".concat(e," ").concat(t&&"disabled")}},{key:"render",value:function(){var t=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("nav",{id:"navigation",className:"navbar navbar-dark mx-4 mt-4",children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)("button",{onClick:this.handleClick,className:"btn bg-primary",type:"button","data-toggle":"collapse","data-target":"#collapse-menu",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("div",{className:"logo ms-3",children:[Object(b.jsx)(d.b,{className:"navbar-brand text-dark fw-bold",to:"/",children:"PEApp"}),Object(b.jsx)("div",{className:"small",children:"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 - \u0436\u0438\u0437\u043d\u044c"})]})]}),"/"!==this.state.path||Object(b.jsxs)("div",{className:"slider-btn",children:[Object(b.jsx)("button",{type:"submit",className:"slider_left btn btn-primary me-2",onClick:this.props.transition,children:"<"}),Object(b.jsx)("button",{type:"submit",className:"slider_right btn btn-primary",onClick:this.props.transition,children:">"})]})]}),Object(b.jsx)("div",{className:this.state.clicked?"active compact-menu":"compact-menu",id:"collapse-menu",children:Object(b.jsx)("ul",{className:"navbar-nav",ref:this.collapse,children:Object(b.jsx)("li",{className:"nav-item mx-4",children:Object(b.jsx)(d.c,{className:function(e){var s=e.isActive;return t.aboutIsActive(s,"nav-link")},to:"about",children:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"})})})})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.path!==e.path?{path:t.path}:null}}]),s}(a.Component),S=function(t){var e=t.transformItem,s=Object(p.f)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(D,{transition:e,path:s.pathname}),Object(b.jsx)(p.a,{})]})},w={posts:g(fetch("https://ymilovets.github.io/storageJSON/exercises.json").then((function(t){return t.json()})))},N=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=e.call(this,t)).state={posSlider:0,error:null,isLoad:!1},a.transformItem=a.transformItem.bind(Object(l.a)(a)),a}return Object(o.a)(s,[{key:"transformItem",value:function(t){t.preventDefault();var e=316,s=document.querySelector(".list-exercises").getBoundingClientRect().width,a=document.querySelectorAll(".list-exercises .card-wrapper");this.arrow=t.target.classList.contains("slider_right")?"right":"left";var n=0;if("right"===this.arrow)n=this.state.posSlider?e:0;else{var i=332*Math.trunc(s/e);n=-this.state.posSlider>=a.length*e-i?0:-316}this.setState((function(t){return{posSlider:t.posSlider+n}}))}},{key:"setDefaultPos",value:function(){this.setState({posSlider:0})}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"AppFitness overflow-hidden",children:Object(b.jsx)(d.a,{children:Object(b.jsx)(p.d,{children:Object(b.jsxs)(p.b,{path:"/",element:Object(b.jsx)(S,{transformItem:this.transformItem}),children:[Object(b.jsx)(p.b,{index:!0,element:Object(b.jsx)(a.Suspense,{fallback:Object(b.jsx)(k,{}),children:Object(b.jsx)(y,{pos:this.state.posSlider,resource:w,setDefaultPos:this.setDefaultPos.bind(this)})})}),Object(b.jsx)(p.b,{path:"exercise/:id",element:Object(b.jsx)(a.Suspense,{fallback:Object(b.jsx)("p",{children:"Loading..."}),children:Object(b.jsx)(f,{resource:w})})}),Object(b.jsx)(p.b,{path:"*",element:Object(b.jsx)("p",{className:"mx-4",children:"NotFound"})})]})})})})}}]),s}(a.Component),C=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,29)).then((function(e){var s=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,r=e.getTTFB;s(t),a(t),n(t),i(t),r(t)}))};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),C()}},[[26,1,2]]]);
//# sourceMappingURL=main.00bbaf8c.chunk.js.map