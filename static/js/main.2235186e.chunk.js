(this.webpackJsonplesson_01=this.webpackJsonplesson_01||[]).push([[0],{17:function(e,t,s){},26:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),i=s(18),r=s.n(i),c=(s(17),s(4)),o=s(5),l=s(12),u=s(7),d=s(6),h=(s(23),s(25),s(10)),m=s(2),j=s(11),b=s(3),p=s(0),v=function(e){var t=function(t){var s=Object(b.h)(),a=Object(h.d)(),n=Object(j.a)(a,2),i=n[0],r=n[1];return Object(p.jsx)(e,Object(m.a)(Object(m.a)({},t),{},{params:s,searchParams:i,setSearchParams:r}))};return t.displayName="WrappedComponent(".concat(e.displayName||e.name||"Component",")"),t},f=v(function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).ms=1e3,n.threads=[],n.state={timeID:null,step:0,countDown:0,items:[],isPaused:!1,savedStep:0,savedCountDown:0,savedTimeID:null},n.pauseBtn=Object(a.createRef)(),n.startBtn=Object(a.createRef)(),n.startTimerHandler=n.startTimerHandler.bind(Object(l.a)(n)),n.pauseTimerHandler=n.pauseTimerHandler.bind(Object(l.a)(n)),n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.body.onkeyup=function(t){"p"!==t.key&&"\u0437"!==t.key||e.pauseBtn.current&&e.pauseBtn.current.click(),"s"!==t.key&&"\u044b"!==t.key||e.startBtn.current&&e.startBtn.current.click()}}},{key:"oscillator",value:function(){var e,t=this;try{e=new(AudioContext||window.webkitAudioContext)}catch(i){console.log("\u0411\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c AudioContent")}for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];a.forEach((function(s){t.threads.push(e.createOscillator());var a=e.createGain();t.threads[t.threads.length-1].connect(a),a.connect(e.destination),a.gain.value=.1,t.threads[t.threads.length-1].frequency.value=s.toString(),t.threads[t.threads.length-1].start(0)})),setTimeout((function(){return t.stopThreads()}),100)}},{key:"stopThreads",value:function(){this.threads.map((function(e){return e.stop(0)})),this.threads=[]}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeID),this.stopThreads()}},{key:"pauseStep",value:function(){var e=this;this.oscillator(1633,941),this.setState({savedTimeID:null,timeID:setTimeout((function(){e.start()}),this.ms*(this.item.time_pause+this.state.step*this.item.delta_time))})}},{key:"start",value:function(){var e=this;this.oscillator(1209,852),this.displayCountDown(),this.setState({savedTimeID:null,timeID:setTimeout((function(){e.setState((function(e){return{step:e.step+1}})),e.pauseStep(),e.checkLastRepeat(e.state.step,e.item.count_repeat)}),this.ms*this.item.time_progress)})}},{key:"displayCountDown",value:function(){this.setState({countDown:this.item.time_progress}),this.changeCountTimer()}},{key:"checkLastRepeat",value:function(e,t){e>=t&&(clearTimeout(this.state.timeID),this.setState({step:0,timeID:null,savedStep:0,savedCountDown:0,savedTimeID:null}))}},{key:"changeCountTimer",value:function(){var e=this,t=setInterval((function(){e.setState((function(e){return{countDown:e.countDown-1}})),e.state.countDown<=0&&clearInterval(t)}),this.ms)}},{key:"startTimerHandler",value:function(){this.state.timeID||this.state.savedTimeID||this.start()}},{key:"pauseTimerHandler",value:function(){var e=this;(this.state.timeID||this.state.savedTimeID&&this.state.isPaused)&&(clearTimeout(this.state.timeID),this.setState((function(e){return{savedStep:e.step,savedCountDown:e.countDown,savedTimeID:e.savedTimeID||e.timeID,step:0,timeID:null,countDown:0,isPaused:!e.isPaused}})),this.state.isPaused&&(this.setState({step:this.state.savedStep,countDown:this.state.savedCountDown,savedStep:0,savedCountDown:0}),this.changeCountTimer(),this.state.savedCountDown>0?this.setState({timeID:setTimeout((function(){e.setState((function(e){return{step:e.step+1}})),e.pauseStep(),e.checkLastRepeat(e.state.step,e.item.count_repeat)}),this.ms*this.state.savedCountDown)}):setTimeout((function(){e.start()}),3*this.ms)))}},{key:"render",value:function(){var e=this;try{if("error"===this.state.items)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a json-\u0444\u0430\u0439\u043b\u0443")}catch(t){return Object(p.jsx)("p",{children:t.message})}return this.item=this.state.items.filter((function(t){return t.link===e.props.params.id}))[0],this.item?Object(p.jsxs)("div",{className:"d-flex ex-wrap",children:[Object(p.jsx)("img",{className:"ex-img-top img-thumbnail",src:this.item.img,alt:"\u0417\u0434\u0435\u0441\u044c \u0440\u044b\u0431\u044b \u043d\u0435\u0442"}),Object(p.jsxs)("div",{className:"ms-3",children:[Object(p.jsx)("h3",{children:this.item.title}),Object(p.jsx)("p",{children:this.item.action}),this.state.timeID||this.state.savedTimeID?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("small",{children:["\u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f ",Object(p.jsx)("br",{}),"\u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u044f"]}),Object(p.jsx)("h1",{className:"display-3",children:this.state.countDown>0?this.state.countDown:"\u275a\u275a"})]}),Object(p.jsxs)("div",{className:"ms-3",children:[Object(p.jsxs)("small",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 ",Object(p.jsx)("br",{}),"\u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u0439"]}),Object(p.jsx)("h1",{className:"display-3",children:this.state.step||this.state.savedStep})]})]}),!this.state.timeID&&!this.state.isPaused&&Object(p.jsx)("div",{className:"mb-3",children:Object(p.jsx)("small",{children:"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c \u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e \u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f"})})]}):"",Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"btn btn-primary",disabled:this.state.timeID||this.state.savedTimeID,onClick:this.startTimerHandler,ref:this.startBtn,children:"\u25b7 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c (S)"}),Object(p.jsxs)("button",{className:"btn btn-primary ms-3",disabled:!this.state.timeID&&(!this.state.savedTimeID||!this.state.isPaused),onClick:this.pauseTimerHandler,ref:this.pauseBtn,children:["\u275a\u275a ",this.state.isPaused?"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c":"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"," (P)"]})]})]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(p.jsx)(h.b,{to:"/",className:"btn btn-primary",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{items:e.resource.posts.read()}}}]),s}(a.Component)),O=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.item;return Object(p.jsx)("div",{className:"me-3 card-wrapper",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("img",{className:"card-img-top",src:e.img,alt:"\u0417\u0434\u0435\u0441\u044c \u0440\u044b\u0431\u044b \u043d\u0435\u0442"}),Object(p.jsxs)("div",{className:"card-body d-flex justify-content-between flex-column",children:[Object(p.jsxs)("div",{className:"card-content mb-3",children:[Object(p.jsx)("h5",{className:"card-title",children:e.title}),Object(p.jsx)("p",{className:"card-text",children:e.action})]}),Object(p.jsx)(h.b,{to:"exercise/"+e.link,className:"btn btn-primary",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})]})]})})}}]),s}(a.Component);function x(e){return Object(p.jsxs)("form",{onSubmit:null,className:"d-flex mt-3 position-relative",autoComplete:"off",children:[Object(p.jsx)("input",{placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f",onChange:function(t){t.preventDefault();var s=t.target.value;(0,e.setSearchParams)({query:s})},className:"form-control",type:"text",name:"search"}),Object(p.jsx)("button",{onClick:function(){return e.setSearchParams({query:""})},type:"reset",className:"btn-close position-absolute top-50 end-0 translate-middle","aria-label":"Close"})]})}var y=v(function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={pos:e.pos,items:[],search:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.searchParams;this.setState({search:e.get("query")?e.get("query").toLowerCase():""})}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=this.props.pos;this.setState({pos:t});var s=this.props.searchParams;this.setState({search:s.get("query")?s.get("query").toLowerCase():""})}}},{key:"render",value:function(){var e=this;try{if("error"===this.state.items)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a json-\u0444\u0430\u0439\u043b\u0443")}catch(s){return Object(p.jsx)("p",{children:s.message})}var t={transform:"translateX(".concat(this.state.pos,"px)")};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,Object(m.a)({},this.props)),Object(p.jsx)("div",{style:t,className:"list-exercises",children:Object(p.jsx)("div",{className:"g-4 mt-3 d-inline-flex overflow-hidden card-deck",children:this.state.items.filter((function(t){return t.title.toLowerCase().includes(e.state.search)||!e.state.search})).map((function(e,t){return Object(p.jsx)(O,{item:e},t)}))})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{items:e.resource.posts.read()}}}]),s}(a.Component));function g(e){var t,s="pending",a=e.then((function(e){t=e,s="success"})).catch((function(e){t="\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a json-\u0444\u0430\u0439\u043b\u0443",s="error"}));return{read:function(){switch(s){case"pending":throw a;case"error":return s;case"success":return t;default:throw a}}}}function k(){var e={title:"Lorem ipsum dolor sit amet",action:"Sed malesuada eget leo in tincidunt. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Sed pharetra sit amet ante at posuere. Integer ut arcu ac odio porttitor cursus.",link:"/",img:"/"};return Object(p.jsx)("div",{className:"list-exercises",children:Object(p.jsxs)("div",{className:"g-4 mt-2 d-inline-flex overflow-hidden card-deck",children:[Object(p.jsx)(O,{item:e}),Object(p.jsx)(O,{item:e}),Object(p.jsx)(O,{item:e})]})})}var D=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).collapse=n.a.createRef(),a.state={clicked:!1},a.handleClick=a.handleClick.bind(Object(l.a)(a)),a}return Object(o.a)(s,[{key:"handleClick",value:function(){this.setState({clicked:!this.state.clicked})}},{key:"componentDidMount",value:function(){document.querySelector(":root").style.setProperty("--collapse-height",this.collapse.current.clientHeight+"px")}},{key:"aboutIsActive",value:function(e,t){return"".concat(t," ").concat(e&&"disabled")}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("nav",{id:"navigation",className:"navbar navbar-dark",children:[Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("button",{onClick:this.handleClick,className:"btn bg-primary",type:"button","data-toggle":"collapse","data-target":"#collapse-menu",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsxs)("div",{className:"logo ms-3",children:[Object(p.jsx)(h.b,{className:"navbar-brand text-dark fw-bold",to:"/",children:"PEApp"}),Object(p.jsx)("div",{className:"small",children:"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 - \u0436\u0438\u0437\u043d\u044c"})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{type:"submit",className:"slider_left btn btn-primary me-2",onClick:this.props.transition,children:"<"}),Object(p.jsx)("button",{type:"submit",className:"slider_right btn btn-primary",onClick:this.props.transition,children:">"})]})]}),Object(p.jsx)("div",{className:this.state.clicked?"active compact-menu":"compact-menu",id:"collapse-menu",children:Object(p.jsx)("ul",{className:"navbar-nav",ref:this.collapse,children:Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(h.c,{className:function(t){var s=t.isActive;return e.aboutIsActive(s,"nav-link")},to:"about",children:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"})})})})]})}}]),s}(a.Component),S=function(e){var t=e.transformItem;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D,{transition:t}),Object(p.jsx)(b.a,{})]})},w={posts:g(fetch("https://ymilovets.github.io/storageJSON/exercises.json").then((function(e){return e.json()})))},N=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={posSlider:0,error:null,isLoad:!1},a.transformItem=a.transformItem.bind(Object(l.a)(a)),a}return Object(o.a)(s,[{key:"transformItem",value:function(e){e.preventDefault();var t=316,s=document.querySelector(".list-exercises").getBoundingClientRect().width,a=document.querySelectorAll(".list-exercises .card-wrapper");this.arrow=e.target.classList.contains("slider_right")?"right":"left";var n=0;if("right"===this.arrow)n=this.state.posSlider?t:0;else{var i=332*Math.trunc(s/t);n=-this.state.posSlider>=a.length*t-i?0:-316}this.setState((function(e){return{posSlider:e.posSlider+n}}))}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"AppFitness overflow-hidden p-4",children:Object(p.jsx)(h.a,{children:Object(p.jsx)(b.d,{children:Object(p.jsxs)(b.b,{path:"/",element:Object(p.jsx)(S,{transformItem:this.transformItem}),children:[Object(p.jsx)(b.b,{index:!0,element:Object(p.jsx)(a.Suspense,{fallback:Object(p.jsx)(k,{}),children:Object(p.jsx)(y,{pos:this.state.posSlider,resource:w})})}),Object(p.jsx)(b.b,{path:"exercise/:id",element:Object(p.jsx)(a.Suspense,{fallback:Object(p.jsx)("p",{children:"Loading..."}),children:Object(p.jsx)(f,{resource:w})})}),Object(p.jsx)(b.b,{path:"*",element:Object(p.jsx)("p",{children:"NotFound"})})]})})})})}}]),s}(a.Component),C=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,29)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),i(e),r(e)}))};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),C()}},[[26,1,2]]]);
//# sourceMappingURL=main.2235186e.chunk.js.map